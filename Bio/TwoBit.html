<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Bio::TwoBit
  
    &mdash; Documentation by YARD 0.9.28
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Bio::TwoBit";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (T)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Bio.html" title="Bio (module)">Bio</a></span></span>
     &raquo; 
    <span class="title">TwoBit</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Bio::TwoBit
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Bio::TwoBit</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/bio/twobit.rb<span class="defines">,<br />
  lib/bio/twobit/version.rb,<br /> lib/bio/twobit/metadata.rb,<br /> lib/bio/twobit/cache_path.rb,<br /> lib/bio/twobit/downloader.rb,<br /> lib/bio/twobit/references/hs1.rb,<br /> lib/bio/twobit/references/mm9.rb,<br /> lib/bio/twobit/references/hg19.rb,<br /> lib/bio/twobit/references/hg38.rb,<br /> lib/bio/twobit/references/mm10.rb,<br /> lib/bio/twobit/references/mm39.rb,<br /> lib/bio/twobit/reference_genome.rb,<br /> ext/bio/twobit/twobit.c</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Reader for .2bit files (i.e., from UCSC genome browser)</p>


  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="TwoBit/ReferenceGenome.html" title="Bio::TwoBit::ReferenceGenome (class)">ReferenceGenome</a></span></p>
</div>
<h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="TwoBit/CachePath.html" title="Bio::TwoBit::CachePath (class)">CachePath</a></span>, <span class='object_link'><a href="TwoBit/Downloader.html" title="Bio::TwoBit::Downloader (class)">Downloader</a></span>, <span class='object_link'><a href="TwoBit/Hg19.html" title="Bio::TwoBit::Hg19 (class)">Hg19</a></span>, <span class='object_link'><a href="TwoBit/Hg38.html" title="Bio::TwoBit::Hg38 (class)">Hg38</a></span>, <span class='object_link'><a href="TwoBit/Hs1.html" title="Bio::TwoBit::Hs1 (class)">Hs1</a></span>, <span class='object_link'><a href="TwoBit/Metadata.html" title="Bio::TwoBit::Metadata (class)">Metadata</a></span>, <span class='object_link'><a href="TwoBit/Mm10.html" title="Bio::TwoBit::Mm10 (class)">Mm10</a></span>, <span class='object_link'><a href="TwoBit/Mm39.html" title="Bio::TwoBit::Mm39 (class)">Mm39</a></span>, <span class='object_link'><a href="TwoBit/Mm9.html" title="Bio::TwoBit::Mm9 (class)">Mm9</a></span>, <span class='object_link'><a href="TwoBit/ReferenceGenome.html" title="Bio::TwoBit::ReferenceGenome (class)">ReferenceGenome</a></span>
    
  
</p>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="VERSION-constant" class="">VERSION =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.1.4</span><span class='tstring_end'>&quot;</span></span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#metadata-instance_method" title="#metadata (instance method)">#<strong>metadata</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute metadata.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#open-class_method" title="open (class method)">.<strong>open</strong>(*args, **kwargs)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bases-instance_method" title="#bases (instance method)">#<strong>bases</strong>(chrom, start = 0, stop = 0, fraction: true)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#chroms-instance_method" title="#chroms (instance method)">#<strong>chroms</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clear_cache!-instance_method" title="#clear_cache! (instance method)">#<strong>clear_cache!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#close-instance_method" title="#close (instance method)">#<strong>close</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#closed%3F-instance_method" title="#closed? (instance method)">#<strong>closed?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#hard_masked_blocks-instance_method" title="#hard_masked_blocks (instance method)">#<strong>hard_masked_blocks</strong>(chrom, start = 0, stop = 0)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#info-instance_method" title="#info (instance method)">#<strong>info</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(fname, masked: false)  &#x21d2; TwoBit </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of TwoBit.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#masked%3F-instance_method" title="#masked? (instance method)">#<strong>masked?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#path-instance_method" title="#path (instance method)">#<strong>path</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sequence-instance_method" title="#sequence (instance method)">#<strong>sequence</strong>(chrom, start = 0, stop = 0)  &#x21d2; Object </a>
    

    
      (also: #seq)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Since “end” is a reserved word in Ruby, use “stop” instead.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#soft_masked_blocks-instance_method" title="#soft_masked_blocks (instance method)">#<strong>soft_masked_blocks</strong>(chrom, start = 0, stop = 0)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(fname, masked: false)  &#x21d2; <tt><span class='object_link'><a href="" title="Bio::TwoBit (class)">TwoBit</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of TwoBit.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27
28
29
30
31
32
33
34
35
36
37
38
39
40</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bio/twobit.rb', line 27</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_fname'>fname</span><span class='comma'>,</span> <span class='label'>masked:</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>TwoBit::new() does not take block; use TwoBit::open() instead</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

  <span class='id identifier rubyid_fname'>fname</span> <span class='op'>=</span> <span class='id identifier rubyid_fname'>fname</span><span class='period'>.</span><span class='id identifier rubyid_to_path'>to_path</span> <span class='kw'>if</span> <span class='id identifier rubyid_fname'>fname</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_path</span><span class='rparen'>)</span>
  <span class='ivar'>@fname</span> <span class='op'>=</span> <span class='id identifier rubyid_fname'>fname</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_masked'>masked</span>
    <span class='id identifier rubyid_mskd'>mskd</span> <span class='op'>=</span> <span class='int'>1</span>
    <span class='ivar'>@masked</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_mskd'>mskd</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='ivar'>@masked</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_initialize_raw'>initialize_raw</span><span class='lparen'>(</span><span class='id identifier rubyid_fname'>fname</span><span class='comma'>,</span> <span class='id identifier rubyid_mskd'>mskd</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="metadata-instance_method">
  
    #<strong>metadata</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute metadata.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bio/twobit.rb', line 13</span>

<span class='kw'>def</span> <span class='id identifier rubyid_metadata'>metadata</span>
  <span class='ivar'>@metadata</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="open-class_method">
  
    .<strong>open</strong>(*args, **kwargs)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


15
16
17
18
19
20
21
22
23
24
25</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bio/twobit.rb', line 15</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_file'>file</span> <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

  <span class='kw'>begin</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_file'>file</span>
  <span class='kw'>ensure</span>
    <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_file'>file</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="bases-instance_method">
  
    #<strong>bases</strong>(chrom, start = 0, stop = 0, fraction: true)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


61
62
63
64
65
66</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bio/twobit.rb', line 61</span>

<span class='kw'>def</span> <span class='id identifier rubyid_bases'>bases</span><span class='lparen'>(</span><span class='id identifier rubyid_chrom'>chrom</span><span class='comma'>,</span> <span class='id identifier rubyid_start'>start</span> <span class='op'>=</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_stop'>stop</span> <span class='op'>=</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>fraction:</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>negative start position</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_start'>start</span><span class='period'>.</span><span class='id identifier rubyid_negative?'>negative?</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>negative stop position</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_stop'>stop</span><span class='period'>.</span><span class='id identifier rubyid_negative?'>negative?</span>

  <span class='id identifier rubyid_bases_raw'>bases_raw</span><span class='lparen'>(</span><span class='id identifier rubyid_chrom'>chrom</span><span class='comma'>,</span> <span class='id identifier rubyid_start'>start</span><span class='comma'>,</span> <span class='id identifier rubyid_stop'>stop</span><span class='comma'>,</span> <span class='id identifier rubyid_fraction'>fraction</span> <span class='op'>?</span> <span class='int'>1</span> <span class='op'>:</span> <span class='int'>0</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="chroms-instance_method">
  
    #<strong>chroms</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/bio/twobit/twobit.c', line 215</span>

static VALUE
twobit_chroms(VALUE self)
{
	TwoBit *tb = getTwoBit(self);

	if (!tb)
	{
		rb_raise(rb_eRuntimeError, &quot;The 2bit file handle is not open!&quot;);
		return Qnil;
	}

	uint32_t i;
	VALUE val;
	VALUE chroms = rb_hash_new();

	for (i = 0; i &lt; tb-&gt;hdr-&gt;nChroms; i++)
	{
		val = UINT32_2NUM(tb-&gt;idx-&gt;size[i]);
		if (!val)
			goto error;
		rb_hash_aset(chroms, rb_str_new2(tb-&gt;cl-&gt;chrom[i]), val);
	}

	return chroms;

error:
	rb_raise(rb_eRuntimeError, &quot;Received an error while adding an item to the output hash!&quot;);
	return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="clear_cache!-instance_method">
  
    #<strong>clear_cache!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


82
83
84</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bio/twobit.rb', line 82</span>

<span class='kw'>def</span> <span class='id identifier rubyid_clear_cache!'>clear_cache!</span>
  <span class='id identifier rubyid_cache_path'>cache_path</span><span class='period'>.</span><span class='id identifier rubyid_remove'>remove</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="close-instance_method">
  
    #<strong>close</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


112
113
114
115
116
117
118
119
120
121
122
123</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/bio/twobit/twobit.c', line 112</span>

static VALUE
twobit_close(VALUE self)
{
	TwoBit *tb = getTwoBit(self);
	if (tb)
	{
		twobitClose(tb);
		DATA_PTR(self) = NULL;
	}

	return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="closed?-instance_method">
  
    #<strong>closed?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


125
126
127
128
129
130
131
132
133
134
135
136
137</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/bio/twobit/twobit.c', line 125</span>

static VALUE
twobit_closed_question_mark(VALUE self)
{
	TwoBit *tb = getTwoBit(self);
	if (tb)
	{
		return Qfalse;
	}
	else
	{
		return Qtrue;
	}
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="hard_masked_blocks-instance_method">
  
    #<strong>hard_masked_blocks</strong>(chrom, start = 0, stop = 0)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


68
69
70
71
72
73</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bio/twobit.rb', line 68</span>

<span class='kw'>def</span> <span class='id identifier rubyid_hard_masked_blocks'>hard_masked_blocks</span><span class='lparen'>(</span><span class='id identifier rubyid_chrom'>chrom</span><span class='comma'>,</span> <span class='id identifier rubyid_start'>start</span> <span class='op'>=</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_stop'>stop</span> <span class='op'>=</span> <span class='int'>0</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>negative start position</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_start'>start</span><span class='period'>.</span><span class='id identifier rubyid_negative?'>negative?</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>negative stop position</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_stop'>stop</span><span class='period'>.</span><span class='id identifier rubyid_negative?'>negative?</span>

  <span class='id identifier rubyid_hard_masked_blocks_raw'>hard_masked_blocks_raw</span><span class='lparen'>(</span><span class='id identifier rubyid_chrom'>chrom</span><span class='comma'>,</span> <span class='id identifier rubyid_start'>start</span><span class='comma'>,</span> <span class='id identifier rubyid_stop'>stop</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="info-instance_method">
  
    #<strong>info</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/bio/twobit/twobit.c', line 139</span>

static VALUE
twobit_info(VALUE self)
{
	TwoBit *tb = getTwoBit(self);

	if (!tb)
	{
		rb_raise(rb_eRuntimeError, &quot;The 2bit file handle is not open!&quot;);
		return Qnil;
	}

	uint32_t i, j, foo;
	VALUE val;
	VALUE info = rb_hash_new();

	// file size
	val = UINT64_2NUM(tb-&gt;sz);
	if (!val)
		goto error;
	rb_hash_aset(info, rb_str_new2(&quot;file_size&quot;), val);

	// nContigs
	val = UINT32_2NUM(tb-&gt;hdr-&gt;nChroms);
	if (!val)
		goto error;
	rb_hash_aset(info, rb_str_new2(&quot;nChroms&quot;), val);

	// sequence length
	foo = 0;
	for (i = 0; i &lt; tb-&gt;hdr-&gt;nChroms; i++)
	{
		foo += tb-&gt;idx-&gt;size[i];
	}
	val = UINT32_2NUM(foo);
	if (!val)
		goto error;
	rb_hash_aset(info, rb_str_new2(&quot;sequence_length&quot;), val);

	// hard-masked length
	foo = 0;
	for (i = 0; i &lt; tb-&gt;hdr-&gt;nChroms; i++)
	{
		for (j = 0; j &lt; tb-&gt;idx-&gt;nBlockCount[i]; j++)
		{
			foo += tb-&gt;idx-&gt;nBlockSizes[i][j];
		}
	}
	val = UINT32_2NUM(foo);
	if (!val)
		goto error;
	rb_hash_aset(info, rb_str_new2(&quot;hard_masked_length&quot;), val);

	// soft-masked length
	if (tb-&gt;idx-&gt;maskBlockStart)
	{
		foo = 0;
		for (i = 0; i &lt; tb-&gt;hdr-&gt;nChroms; i++)
		{
			for (j = 0; j &lt; tb-&gt;idx-&gt;maskBlockCount[i]; j++)
			{
				foo += tb-&gt;idx-&gt;maskBlockSizes[i][j];
			}
		}
		val = UINT32_2NUM(foo);
		if (!val)
			goto error;
		rb_hash_aset(info, rb_str_new2(&quot;soft_masked_length&quot;), val);
	}

	return info;

error:
	rb_raise(rb_eRuntimeError, &quot;Received an error while gathering information on the 2bit file!&quot;);
	return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="masked?-instance_method">
  
    #<strong>masked?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


46
47
48</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bio/twobit.rb', line 46</span>

<span class='kw'>def</span> <span class='id identifier rubyid_masked?'>masked?</span>
  <span class='ivar'>@masked</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="path-instance_method">
  
    #<strong>path</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bio/twobit.rb', line 42</span>

<span class='kw'>def</span> <span class='id identifier rubyid_path'>path</span>
  <span class='ivar'>@fname</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sequence-instance_method">
  
    #<strong>sequence</strong>(chrom, start = 0, stop = 0)  &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='seq-instance_method'>seq</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Since “end” is a reserved word in Ruby, use “stop” instead.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


52
53
54
55
56
57</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bio/twobit.rb', line 52</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sequence'>sequence</span><span class='lparen'>(</span><span class='id identifier rubyid_chrom'>chrom</span><span class='comma'>,</span> <span class='id identifier rubyid_start'>start</span> <span class='op'>=</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_stop'>stop</span> <span class='op'>=</span> <span class='int'>0</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>negative start position</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_start'>start</span><span class='period'>.</span><span class='id identifier rubyid_negative?'>negative?</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>negative stop position</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_stop'>stop</span><span class='period'>.</span><span class='id identifier rubyid_negative?'>negative?</span>

  <span class='id identifier rubyid_sequence_raw'>sequence_raw</span><span class='lparen'>(</span><span class='id identifier rubyid_chrom'>chrom</span><span class='comma'>,</span> <span class='id identifier rubyid_start'>start</span><span class='comma'>,</span> <span class='id identifier rubyid_stop'>stop</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="soft_masked_blocks-instance_method">
  
    #<strong>soft_masked_blocks</strong>(chrom, start = 0, stop = 0)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


75
76
77
78
79
80</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bio/twobit.rb', line 75</span>

<span class='kw'>def</span> <span class='id identifier rubyid_soft_masked_blocks'>soft_masked_blocks</span><span class='lparen'>(</span><span class='id identifier rubyid_chrom'>chrom</span><span class='comma'>,</span> <span class='id identifier rubyid_start'>start</span> <span class='op'>=</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_stop'>stop</span> <span class='op'>=</span> <span class='int'>0</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>negative start position</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_start'>start</span><span class='period'>.</span><span class='id identifier rubyid_negative?'>negative?</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>negative stop position</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_stop'>stop</span><span class='period'>.</span><span class='id identifier rubyid_negative?'>negative?</span>

  <span class='id identifier rubyid_soft_masked_blocks_raw'>soft_masked_blocks_raw</span><span class='lparen'>(</span><span class='id identifier rubyid_chrom'>chrom</span><span class='comma'>,</span> <span class='id identifier rubyid_start'>start</span><span class='comma'>,</span> <span class='id identifier rubyid_stop'>stop</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Jan 11 11:43:19 2023 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.28 (ruby-3.2.0).
</div>

    </div>
  </body>
</html>